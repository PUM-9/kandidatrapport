%% 
\chapter{Metod}
\label{cha:method}

\section{Utvecklingsmetodik}

I projektet har en iterativ process använts med vissa inslag av vattenfallsmodellen. Utvecklingsledaren ansvarade för att ta fram vad som skulle genomföras i varje iteration och planera iterationerna i samråd med övriga gruppmedlemmar. Teamledaren ansvarade för att planera de administrativa delarna av projektet. För att planera en iteration så utgick gruppen från kravspecifikationen och bröt ner den till aktiviteter. Målet med varje aktivitet var att den skulle vara genomförbar på mindre än en vecka. När aktiviteterna var skapade så gjorde utvecklingsledaren med inrådan från bland annat arkitekten en tidsuppskattning på varje aktivitet och hur många som borde jobba med aktiviteten. Efter planeringen gick gruppen igenom aktiviterna så att alla i gruppen blev informerade om vad som skulle genomföras under iterationen. När alla i gruppen var informerade om aktiviteterna så valde gruppmedlemmarna vilka aktiviteter som de ville delta i. Vidare under iterationen planerades vad som skulle göras i varje aktivitet av de gruppmedlemmar som hade valt den aktiviteten.

% EV DISKUSSION
I projektet har gruppen försökt att använda en iterativ process med vissa inslag av vattenfallsmodellen på grund av den korta tidsperiod, cirka fem månader, som projektet genomfördes under.
Detta var tanken i teorin men i praktiken höll inte alltid planeringen.
% SLUT EV DISKUSSION

\subsection{Förstudie}

Projektet inleddes med en förstudiefas där gruppen sammanställde diverse dokument. Syftet med dessa dokument var att både gruppmedlemmarna själva och externa parter skulle få en bättre insikt i vad projektet gick ut på och vad dess mål var. Dokumenten utformades och togs fram av den eller de personer i gruppen som var bäst lämpade för ett visst dokument, med det menas den person som passade bäst för ett visst dokument med avseende på dennes roll.

% EV DISKUSSION
Detta ledde även till att den personen fick mer erfarenheter och kunskaper om vad dennes roll innebar.
% SLUT EV DISKUSSION

Gruppen började sedan att studera de områden, verktyg och ramverk som skulle behövas för projektet, framförallt ROS. Den information som gruppen hade från början var den som kunden tillhandahållit och utifrån denna information upptäcktes en del nya områden som behövde undersökas, framförallt PCL. Under förstudien delade utvecklingsledaren ut olika områden att undersöka. Efter ett område undersökts skrevs ett kort dokument som beskrev slutsatserna och innehöll relevanta länkar från undersökningen. De största områdena som undersöktes var ROS och PCL. Framförallt undersöktes ROS eftersom det hade en stor påverkan på hur arkitekturen och implementation skulle genomföras. Att undersöka ROS noggrant var dessutom viktigt då tidigare erfarenhet inom ROS saknades hos samtliga gruppmedlemmar. 
Undersökningarna inom ROS avslutades först med att alla i gruppen genomförde de guider som rekommmenderades på ROS hemsida. Efter att guiderna var genomförda så skrev alla gruppmedlemmar varsin chattklient med hjälp av ROS.

% SKRIVIT OM
Eftersom det hade så stor påverkan så avslutades den undersökningen med en lista av guider som alla gruppmedlemmar genomförde. När alla genomfört de guiderna genomfördes en kodutmaning där alla gruppmedlemmar skrev en chattklient med hjälp av ROS. Detta avslutade förstudiefasen med att alla i gruppen fick skriva lite kod.
% SLUT SKRIVIT OM

\subsection{Iteration 1}

Iteration 1 omfattar de två första veckorna efter förstudiefasen. Huvudmålet för iteration 1 var att få klart basfunktionaliteten för produkten. Under första veckan så låg fokus på att skriva kod, skapa ett gränssnitt till den existerande mjukvaran, samt att registrera och mesha punktmoln. Under andra veckan så flyttades fokus till att färdigställa den dokumentation som skulle lämnas in efter iteration 1, samt att färdigställa så mycket som möjligt av det som påbörjades under första veckan.

% RESULTAT
Gruppen hade satt ett väldigt högt mål för iteration ett och blev därför inte klar med allt som var tänkt. Gruppmedlemmarna var nöjda med resultatet från iteration 1 ändå, just på grund av det högt satta målet.
% SLUT RESULTAT

\subsection{Iteration 2}

Iterationen inleddes med fokus på registrering då detta var det stora frågetecknet i projektet vid början av iteration 2. Efter att först ha undersökt olika algoritmer beslutades det att gruppen skulle fortsätta med ICP då den hade bäst stöd i PCL-biblioteket. Efter det så delades gruppen i två för att arbeta med två olika algoritmer för att registrera punktmolnen. Den första algoritmen var att försöka vrida och placera punktmolnen rätt från början och på så sätt få det väldigt enkelt att sedan registrera punktmolnen med ICP. Problemet med att få algoritmen att fungera var att den behövde vara väldigt generell vilket gjorde den svår att ta fram och fullända. Speciellt för de objekt som kunden sagt var enkla att registrera, så som rätblock, som var väldigt släta. Den andra algoritmen var mer anpassad för de då ansedda enkla objekten. Den gick ut på att i första hand endast lösa problemet med att registrera rätblocksliknande föremål. Detta gjorde den genom att hitta en så platt yta som möjligt, anta att det var en sida och sedan ta fyra skanningar med 90 graders rotation mellan varje. Dessa punktmoln registrerades sedan på ett genererat rätblock med ICP.

Den andra algoritmen var den som utforskades mest tills den skulle börja testas ihop med hårdvaran. Då upptäcktes att det fanns mängder med fel på det underliggande systemet som tog fram punktmolnen. Det gick inte att genomföra tillräckligt många skanningar i rad utan att det underliggande systemet kraschade. 

Detta gjorde att gruppem tillsammans med kunden fick göra om en stor del av projektet där vi bortsåg från det tidigare systemet helt och hållet. Gruppen beslutade också tillsammans med kunden att det borde vara lättare att registrera mer detaljerade objekt. Gruppen gick då tillbaka till algoritmen för att placera rätt och sedan registrera. Denna nya registrering placerades i ett helt nytt program så gruppen började även bygga ett CLI och integrera meshning och registrering i ett enda program. Istället för att som tidigare bygga allt som enskilda ROS-noder.

\subsection{Iteration 3}

Den första veckan låg fokus på de individuella delarna av kandidatrapporten men det arbetades även en del med den gemensamma rapporten. Rapporten lämnades sedan in i slutet av första veckan. Andra veckan låg fokus på den gemensamma delen av rapporten. En del komplettering av de individuella delarna gjordes också då gruppen fick feedback på första veckans inlämning redan i början av andra veckan i iteration 3.


\section{Metod för att fånga erfarenheter}

Erfarenheter fångades upp under projektets gång med hjälp av kontinuerlig utvärdering och diskussioner under gruppens gemensamma möten. Dessa möten skedde två gånger i veckan, varje måndag och torsdag. På måndagar deltog även handledaren och då låg fokus på en statusuppdatering och vad som skulle göras i veckan. Under statusuppdateringen diskuterades vad som gått bra, vad som gått dåligt och hur vi skulle kunna förbättra saker och ting. Under torsdagsmöten las fokus på diskussion kring viktiga frågor som hela gruppen behövde vara del av. Erfarenheterna som kommit upp på dessa möten, framförallt måndagsmötena sammanfattades av teamledaren i varje veckas statusrapport.

Erfarenheter har också delats av gruppen under arbetets gång. Då vi arbetat större delen av tiden i samma rum har det skett mycket diskussion i gruppen kring olika problem öppet i rummet. Slutligen har vi samlat våra erfarenheter i den här rapporten som skrivits under projektets gång och därav fångat upp erfarenheter allt eftersom de dykt upp.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% method.tex ends here
